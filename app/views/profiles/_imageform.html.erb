<div data-controller ="photo-upload">
  <div class="">
    <%= simple_form_for(user, url: update_cl_images_path, method: :patch) do |f|%>
    <%= f.input :cl_images, as: :file, input_html: { class: 'd-none', multiple: true },label_html: { class: 'upload-photo'}, label: '+', id: 'image-upload-input'%>
    <%= f.submit 'Save', id: 'submit-button', class: 'd-none' %>
    <% end %>
  </div>
</div>

<script>
    const fileInput = document.getElementById("user_cl_images");
    const submitButton = document.getElementById("submit-button");
    fileInput.addEventListener('change', (e) => {
      if (fileInput.value.length > 0) {
        submitButton.click();
      }
    });
</script>
